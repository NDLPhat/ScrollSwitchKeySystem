!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jQuery"));else if("function"==typeof define&&define.amd)define(["jQuery"],t);else{var n="object"==typeof exports?t(require("jQuery")):t(e.jQuery);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t);var r={classNames:{screen:"screen",group:"group",container:"container",activeContainer:"active1",boundary:"boundary",item:"item",activeItem:"active",focus:"focus"},propNames:{keyNext:"data-ks-key-next",keyPrev:"data-ks-key-prev",keyNextContainer:"data-ks-key-next-container",keyPrevContainer:"data-ks-key-prev-container",keyEnter:"data-ks-key-enter",disableKeyNext:"data-ks-disable-key-next",disableKeyPrev:"data-ks-disable-key-prev",disableKeyNextContainer:"data-ks-disable-key-next-container",disableKeyPrevContainer:"data-ks-disable-key-prev-container",circle:"data-ks-circle-scroll",transition:"data-ks-transition-timeout",disable:"data-ks-disable",href:"data-ks-href",hrefTarget:"data-ks-href-target",forceNearest:"data-ks-force-nearest",disableScrollX:"data-ks-disable-scroll-x",disableScrollY:"data-ks-disable-scroll-y",keep:"data-ks-keep",center:"data-ks-force-center",disableScrollGroupX:"data-ks-disable-scroll-group-x",disableScrollGroupY:"data-ks-disable-scroll-group-y"},propValues:{next:[39],prev:[37],nextContainer:[40],prevContainer:[38],enter:[13],disableNext:[],disablePrev:[],disableNextContainer:[],disablePrevContainer:[],circle:!1,transition:0,disable:!1,disableScrollX:!1,disableScrollY:!1,disableScrollGroupX:!1,disableScrollGroupY:!1,href:"",hrefTarget:"_blank",forceNearest:!1,keep:!1,center:!1},events:{beforeSwitch:"ks:before_switch",afterSwitch:"ks:after_switch",beforeBlur:"ks:before_blur",afterBlur:"ks:after_blur",beforeFocus:"ks:before_focus",afterFocus:"ks:after_focus",beforeSwitchContainer:"ks:before_switch_container",afterSwitchContainer:"ks:after_switch_container",beforeBlurContainer:"ks:before_blur_container",afterBlurContainer:"ks:after_blur_container",beforeFocusContainer:"ks:before_focus_container",afterFocusContainer:"ks:after_focus_container",keyEvent:"ks:key",keyPress:"ks:keypress",beforeScroll:"ks:before_scroll",afterScroll:"ks:after_scroll",beforeScrollContainer:"ks:before_scroll_container",afterScrollContainer:"ks:after_scroll_container"}},o=[["data-ks-key-next","next",v],["data-ks-key-prev","prev",v],["data-ks-disable-key-next","disableNext",v],["data-ks-disable-key-prev","disablePrev",v],["data-ks-key-next-container","nextContainer",v],["data-ks-key-prev-container","prevContainer",v],["data-ks-disable-key-next-container","disableNextContainer",v],["data-ks-disable-key-prev-container","disablePrevContainer",v],["data-ks-key-enter","enter",v],["data-ks-circle-scroll","circle",w],["data-ks-transition-timeout","transition",function(e,t){var n=$(e).attr(t);return void 0!==n?Number.parseInt(n):null}],["data-ks-disable","disable",w],["data-ks-href","href",S],["data-ks-href-target","hrefTarget",S],["data-ks-force-nearest","forceNearest",w],["data-ks-disable-scroll-x","disableScrollX",w],["data-ks-disable-scroll-y","disableScrollY",w],["data-ks-keep","keep",w],["data-ks-force-center","center",w],["data-ks-disable-scroll-group-x","disableScrollGroupX",w],["data-ks-disable-scroll-group-y","disableScrollGroupY",w]];function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keyList=t,this.key=n}var t,n,r;return t=e,(n=[{key:"checkMap",value:function(){var e=this;return""!==this.key&&this.keyList.disable!==[]&&void 0!==this.keyList.disable&&this.keyList.key.filter(function(t){return-1===e.keyList.disable.indexOf(t)}).some(function(t){return parseInt(t)===e.key})}}])&&i(t.prototype,n),r&&i(t,r),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=Symbol("owner"),u=Symbol("element"),f=Symbol("factory"),l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[u]=n,this[s]=t,this[f]=t instanceof re?t:t.factory}var t,n,r;return t=e,(n=[{key:"factory",get:function(){return this[f]}},{key:"owner",get:function(){return this[s]}},{key:"element",get:function(){return $(this[u]).get(0)}},{key:"left",get:function(){return $(this.element).offset().left}},{key:"right",get:function(){return this.left+this.width}},{key:"top",get:function(){return $(this.element).offset().top}},{key:"width",get:function(){return $(this.element).outerWidth()}},{key:"height",get:function(){return $(this.element).outerHeight()}}])&&c(t.prototype,n),r&&c(t,r),e}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p(this,b(t).call(this,e,n))).curMargin=0,r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,l),n=t,(r=[{key:"focus",value:function(){var e=this.factory.config.classNames,t=e.activeItem,n=e.focus;$(this.factory.item.element).removeClass("".concat(t," ").concat(n)),$(this.element).addClass("".concat(t," ").concat(n))}},{key:"blur",value:function(){var e=this.factory.config.classNames,t=e.activeItem,n=e.focus;$(this.element).removeClass("".concat(t," ").concat(n))}},{key:"action",value:function(){var e=this.factory.config.propNames,t=e.href,n=e.hrefTarget,r=$(this.element).attr(t),o=$(this.element).attr(n);void 0!==r&&window.open(r,o||"_blank")}},{key:"makeVisible",value:function(){if(!this.factory.isItem(this.element))return!1;var e=this.factory.config.propValues,t=e.disableScrollX,n=e.disableScrollY,r=e.transition,o=this.factory.config.events,i=o.beforeScroll,a=o.afterScroll,c=this.container.boundary,s=this.container,u=0,f=0;this.left<s.left?u=s.left-this.left:s.left+s.width<this.left+this.width&&(u=s.left+s.width-this.left-this.width);var l={};u&&(u+=c.left-s.left,l.marginLeft=u+"px",$(c.element).trigger(i,this.curMargin),$(c.element).trigger(a,u),$(document).trigger(i,this.curMargin),$(document).trigger(a,u),this.curMargin=u),this.top+this.height>s.top+s.height?f=-1*(this.top+this.height-(s.top+s.height)):s.top>this.top&&(f=s.top-this.top),f&&(f+=c.top-s.top,l.marginTop=f+"px",$(c.element).trigger(i,this.curMargin),$(c.element).trigger(a,f),$(document).trigger(i,this.curMargin),$(document).trigger(a,f),this.curMargin=f),t&&(l.marginLeft=0),n&&(l.marginTop=0),0!==r?(l.marginLeft||l.marginTop)&&$(c.element).stop().animate(l,parseInt(r)||300,function(){}):$(c.element).css(l)}},{key:"makeVisibleCenter",value:function(){var e=this.factory.config.propValues,t=e.disableScrollX,n=e.disableScrollY,r=e.transition,o=this.factory.config.events,i=o.beforeScroll,a=o.afterScroll,c=this.container.boundary,s=this.container,u=0;u=s.left+s.width/2-this.left-this.width/2;var f=c.width,l={};u&&((u+=c.left-s.left)>0?u=0:u+f<s.width&&(u+=s.width-u-f),console.log(u,s.left+s.width-f,c.left,"center"),u=Math.min(0,Math.max(u,s.width-f)),l.marginLeft=u+"px",$(c.element).trigger(i,this.curMargin),$(c.element).trigger(a,u),$(document).trigger(i,this.curMargin),$(document).trigger(a,u),this.curMargin=u),t&&(l.marginLeft=0),n&&(l.marginTop=0),r?(l.marginLeft||l.marginTop)&&$(c.element).stop().animate(l,parseInt(r)||300,function(){}):$(c.element).css(l)}},{key:"index",get:function(){var e=[];return this.container.items.map(function(t){e.push(t.element)}),e.indexOf(this.element)}},{key:"container",get:function(){return this.owner}}])&&h(n.prototype,r),o&&h(n,o),t}();function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e,t){var n=$(e).parent();return $(n).get(0)===document.body?null:$(n).is(t)?n:k(n,t)}function v(e,t){var n=$(e).attr(t);return n?n.split(",").map(function(e){return Number.parseInt(e)}):null}function w(e,t){return void 0!==$(e).attr(t)||null}function S(e,t){var n=$(e).attr(t);return void 0!==n?n:null}function O(e){var t={};return o.forEach(function(n){var r=d(n,3),o=r[0],i=r[1],a=(0,r[2])(e,o);t[i]=a}),t}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=Symbol("owner"),j=Symbol("element"),x=Symbol("factory"),P=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[j]=n,this[C]=t,this[x]=t instanceof re?t:t.factory}var t,n,r;return t=e,(n=[{key:"factory",get:function(){return this[x]}},{key:"owner",get:function(){return this[C]}},{key:"element",get:function(){return $(this[j]).get(0)}},{key:"left",get:function(){return $(this.element).offset().left}},{key:"right",get:function(){return this.left+this.width}},{key:"top",get:function(){return $(this.element).offset().top}},{key:"width",get:function(){return $(this.element).outerWidth()}},{key:"height",get:function(){return $(this.element).outerHeight()}}])&&_(t.prototype,n),r&&_(t,r),e}();function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,M(t).call(this,e,n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,P),n=t,(r=[{key:"width",get:function(){var e=$(this.element).find(this.factory.itemSelector).sort(function(e,t){return e.offsetLeft<t.offsetLeft}).last();return e.offset().left+e.outerWidth()-this.left}},{key:"height",get:function(){var e=$(this.element).find(this.factory.itemSelector).sort(function(e,t){return e.offsetTop<t.offsetTop}).last();return e.offset().top+e.outerHeight()-$(this.element).offset().top}}])&&T(n.prototype,r),o&&T(n,o),t}();function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=F(this,G(t).call(this,e,n))).curMargin=0,r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,P),n=t,(r=[{key:"focus",value:function(){var e=this.factory.config.classNames,t=e.activeContainer,n=e.activeItem,r=e.focus,o=this.factory.item.element,i=this.factory.container.element;$(i).removeClass(t),O(this.element).forceNearest?(this.item.element&&this.item.blur(),$(this.nearest.element).addClass("".concat(n," ").concat(r))):this.item.element?$(this.item.element).addClass(n):$(this.items[0].element).addClass("".concat(n," ").concat(r)),$(o).removeClass(n),$(this.element).addClass(t)}},{key:"originParentOffset",value:function(e){return $(e).parent().offset().top}},{key:"makeVisible",value:function(){if(void 0===this.factory.screen.element||void 0===this.group)return!1;var e=this.factory.config.events,t=e.beforeScrollContainer,n=e.afterScrollContainer,r=this.group,o=$("body"),i=o.offset(),a=this.factory.screen;$(a.element).css({position:"relative"});var c=0,s=0;r.top+r.height>i.top+o.outerHeight()?c=i.top+o.outerHeight()-(r.top+r.height):r.top<i.top&&(c=i.top-r.top),r.left+r.width>i.left+o.outerWidth()?s=i.left-r.left:r.left<i.left&&(s=i.left-r.left);var u={},f=O(r.element).disableScrollGroupX;O(r.element).disableScrollGroupY&&(c=0),f&&(s=0),c&&(c+=a.top-i.top-this.originParentOffset(a.element),u.top=c+"px",$(r.element).trigger(t,this.curMargin),$(r.element).trigger(n,c),$(document).trigger(t,this.curMargin),$(document).trigger(n,c),this.curMargin=c),s&&(s+=a.left-i.left,u.left=s+"px",$(r.element).trigger(t,this.curMargin),$(r.element).trigger(n,s),$(document).trigger(t,this.curMargin),$(document).trigger(n,s),this.curMargin=s);var l=O(this.element).transition;0!==l?u&&$(a.element).stop().animate(u,parseInt(l)||300,function(){console.log("CONTAINER ANIMATION COMPLE TE ")}):$(a.element).css(u)}},{key:"index",get:function(){var e=this;return this.factory.group.containers.findIndex(function(t){return t.element===e.element})}},{key:"boundary",get:function(){return new L(this,$(this.element).find("> "+this.factory.boundarySelector))}},{key:"group",get:function(){return this.owner}},{key:"item",get:function(){var e=$(this.element).find(this.factory.itemSelector+this.factory.focusSelector);return new m(this,e)}},{key:"items",get:function(){var e=this,n=[];return $(this.element).find(this.factory.itemSelector).each(function(r,o){var i=new t(new Q(e.factory.screen,k(o,e.factory.groupSelector)),k(o,e.factory.containerSelector));e.factory.isItem(o)&&n.push(new m(i,o))}),n}},{key:"nearest",get:function(){var e=this.factory.item,t=this.items,n=[],r=[],o=[];if($.each(t,function(t,i){i.left+i.width>e.left&&i.left<e.left+e.width&&n.push(i),i.left+i.width<=e.left&&r.push(i),i.left>=e.left+e.width&&o.push(i)}),0!==n.length){var i=[];if($.each(n,function(t,n){n.left>=e.left&&n.left+n.width<=e.left+e.width&&i.push(n)}),0!==i.length)return new m(this,$(i[0].element));if(1===n.length)return new m(this,$(n[0].element));var a=n[0].left+n[0].width-e.left,c=n[n.length-1].left-e.left-e.width;return Math.abs(a)>=Math.abs(c)?new m(this,$(n[n.length-1].element)):new m(this,$(n[0].element))}}}])&&B(n.prototype,r),o&&B(n,o),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,H(t).call(this,e,n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,P),n=t,(r=[{key:"makeVisible",value:function(){}},{key:"index",get:function(){var e=this;return this.factory.screen.groups.findIndex(function(t){return t.element===e.element})}},{key:"containers",get:function(){var e=this,n=[];return $(this.factory.containerSelector).each(function(r,o){e.factory.isContainer(o)&&n.push(new Y(new t(e.factory.screen,k(o,e.factory.groupSelector)),o))}),n}},{key:"container",get:function(){var e=$(this.element).find(this.factory.containerSelector);return new Y(this,this.factory.isContainer(e)?e:null)}}])&&R(n.prototype,r),o&&R(n,o),t}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,z(t).call(this,e,n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,l),n=t,(r=[{key:"groups",get:function(){var e=this,t=[];return $(this.factory.groupSelector).each(function(n,r){e.factory.isGroup(r)&&t.push(new Q(e,r))}),t}},{key:"group",get:function(){return this.factory.group}}])&&q(n.prototype,r),o&&q(n,o),t}(),ee=n(0),te=n.n(ee);function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=JSON.parse(JSON.stringify(Object.assign({},r,t)))}var t,n,o;return t=e,(n=[{key:"isScreen",value:function(e){return te()(e).get(0)===this.screen.element}},{key:"isGroup",value:function(e){return te()(e).is(this.screenSelector+" "+this.groupSelector)}},{key:"isBoundary",value:function(e){return te()(e).is(this.containerSelector+">"+this.boundarySelector)}},{key:"isContainer",value:function(e){return te()(e).is("".concat(this.containerSelector))&&te()(e).find("".concat(this.itemSelector)).length>0&&void 0===te()(e).attr(this.config.propNames.disable)}},{key:"isItem",value:function(e){return te()(e).is(this.containerSelector+" "+this.itemSelector)&&void 0===te()(e).attr(this.config.propNames.disable)}},{key:"screenSelector",get:function(){return"."+this.config.classNames.screen}},{key:"groupSelector",get:function(){return"."+this.config.classNames.group}},{key:"containerSelector",get:function(){return".".concat(this.config.classNames.container,":not(.").concat(this.config.propNames.disable,")")}},{key:"boundarySelector",get:function(){return"."+this.config.classNames.boundary}},{key:"itemSelector",get:function(){return".".concat(this.config.classNames.item,":not(.").concat(this.config.propNames.disable,")")}},{key:"activeSelector",get:function(){return".".concat(this.config.classNames.item)+".".concat(this.config.classNames.activeItem)}},{key:"focusSelector",get:function(){return".".concat(this.config.classNames.focus)}},{key:"screen",get:function(){var e=te()(this.screenSelector);return new Z(this,e)}},{key:"group",get:function(){return this.item.container.group}},{key:"container",get:function(){return this.item.container}},{key:"boundary",get:function(){return this.item.container.boundary}},{key:"item",get:function(){var e=te()(this.activeSelector),t=k(e,this.containerSelector),n=k(t,this.groupSelector),r=this.screen,o=new Q(r,n),i=new Y(o,t);return new m(i,e)}}])&&ne(t.prototype,n),o&&ne(t,o),e}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=se(this,ue(t).call(this,e))).ksConfig=JSON.parse(JSON.stringify(ie({},n.config))),n.ksConfigBk=JSON.parse(JSON.stringify(ie({},n.config))),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,re),n=t,(o=[{key:"init",value:function(){var e=this,t=this.ksConfig.events,n=t.keyEvent,r=t.keyPress;$(document).keydown(function(t){var o,i;t.preventDefault(),e.ksConfig=JSON.parse(JSON.stringify(ie({},e.ksConfigBk))),o=e.ksConfig.propValues,i=O(e.container.element),Object.keys(o).map(function(e){o[e]=i[e]||o[e]}),e.config=e.ksConfig,function(e,t){for(var n=e.ksConfig.propValues,r=n.next,o=n.disableNext,i=n.prev,c=n.disablePrev,s=n.nextContainer,u=n.disableNextContainer,f=[{key:i,disable:c,callback:function(){return e.switchItem(-1)}},{key:r,disable:o,callback:function(){return e.switchItem(1)}},{key:n.prevContainer,disable:n.disablePrevContainer,callback:function(){return e.switchContainer(-1)}},{key:s,disable:u,callback:function(){return e.switchContainer(1)}},{key:n.enter,disable:[],callback:function(){e.item.action()}}],l=0;l<f.length;l++)if(new a(f[l],t).checkMap()){f[l].callback();break}}(e,t.keyCode),$(document).trigger(n,t),$(e.item.element).trigger(r,t)})}},{key:"switchItem",value:function(e){var t=r.events,n=t.beforeSwitch,o=t.afterSwitch,i=t.beforeBlur,a=t.afterBlur,c=t.beforeFocus,s=t.afterFocus,u=t.beforeFocusContainer,f=t.afterFocusContainer,l=this.ksConfig.propValues,y=l.circle,h=l.keep,p=l.center,b=(l.disableNext,l.disablePrev,this.container.items),g=this.item,m=this.item.index+e,d=this.group.containers,k=this.container.element,v=null;if((!(m<0&&k===d[0].element)||y)&&(!(m>=b.length&&k===d[d.length-1].element)||y)){if(m<0){if(!y)return!h&&this.switchContainer(-1);v=b[b.length-1]}if(m>=b.length){if(!y)return!h&&this.switchContainer(1);v=b[0]}null===v&&(v=b[Math.max(0,m)]),p?v.makeVisibleCenter():v.makeVisible(),v.focus(),$(g.element).trigger(i),$(g.element).trigger(a),$(v.element).trigger(c),$(v.element).trigger(s),$(k).trigger(u),$(k).trigger(f),$(document).trigger(n,$(g.element)),$(document).trigger(o,$(v.element))}}},{key:"switchContainer",value:function(e){var t=r.events,n=t.beforeSwitchContainer,o=t.afterSwitchContainer,i=t.beforeBlurContainer,a=t.afterBlurContainer,c=t.beforeFocusContainer,s=t.afterFocusContainer,u=this.group.containers,f=this.container.element,l=this.container.index+e;if(l<0)return!1;if(l>=u.length)return!1;var y=u[l];y.focus(),y.makeVisible(),$(f).trigger(i),$(f).trigger(a),$(y).trigger(c),$(y).trigger(s),$(document).trigger(n,$(f)),$(document).trigger(o,$(y))}}])&&ce(n.prototype,o),i&&ce(n,i),t}();t.default=le}])});